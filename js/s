<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Configuration - WISE</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <style type="text/tailwindcss">
        @layer base {
            body {
                font-family: 'Inter', sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }
            
            * {
                scroll-behavior: smooth;
            }
        }
        
        @layer utilities {
            /* Custom Scrollbar Styles */
            ::-webkit-scrollbar {
                width: 6px;
                height: 6px;
            }
            
            ::-webkit-scrollbar-track {
                background: transparent;
                border-radius: 10px;
            }
            
            ::-webkit-scrollbar-thumb {
                background: rgba(156, 163, 175, 0.4); 
                border-radius: 10px;
                transition: all 0.2s ease;
            }
            
            ::-webkit-scrollbar-thumb:hover {
                background: rgba(156, 163, 175, 0.7); 
            }
            
            /* Firefox scrollbar */
            html {
                scrollbar-width: thin;
                scrollbar-color: rgba(156, 163, 175, 0.4) transparent;
            }

            /* Smooth transitions for all elements */
            .transition-all-smooth {
                transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            }
            
            .transition-transform-smooth {
                transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            }

            /* Backdrop blur effects */
            .backdrop-blur-glass {
                backdrop-filter: blur(12px);
                -webkit-backdrop-filter: blur(12px);
                background: rgba(255, 255, 255, 0.85); /* White with opacity */
            }
            
            .backdrop-blur-overlay {
                backdrop-filter: blur(8px);
                -webkit-backdrop-filter: blur(8px);
                background: rgba(0, 0, 0, 0.1); /* Black with opacity */
            }

            /* Sidebar animations */
            .sidebar-slide-in {
                animation: slideInLeft 0.3s cubic-bezier(0.4, 0, 0.2, 1) forwards;
            }
            
            .sidebar-slide-out {
                animation: slideOutLeft 0.3s cubic-bezier(0.4, 0, 0.2, 1) forwards;
            }
            
            @keyframes slideInLeft {
                from {
                    transform: translateX(-100%);
                    opacity: 0;
                }
                to {
                    transform: translateX(0);
                    opacity: 1;
                }
            }
            
            @keyframes slideOutLeft {
                from {
                    transform: translateX(0);
                    opacity: 1;
                }
                to {
                    transform: translateX(-100%);
                    opacity: 0;
                }
            }

            /* Hover effects */
            .hover-lift:hover {
                transform: translateY(-1px);
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            }
            
            .hover-scale:hover {
                transform: scale(1.02);
            }

            /* Button press effect */
            .active-press:active {
                transform: scale(0.98);
            }

            /* Gradient backgrounds */
            .gradient-primary {
                background: linear-gradient(135deg, #3B82F6 0%, #6366F1 100%); /* wise-blue-500 to wise-indigo-500 */
            }
            
            .gradient-secondary {
                background: linear-gradient(135deg, #8B5CF6 0%, #F5576C 100%); /* wise-secondary to a red/pink */
            }

            /* Card shadows */
            .shadow-card {
                box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05), 0 1px 2px rgba(0, 0, 0, 0.1);
            }
            
            .shadow-card-hover:hover {
                box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1), 0 2px 4px rgba(0, 0, 0, 0.05);
            }

            /* Loading skeleton */
            .skeleton {
                background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
                background-size: 200% 100%;
                animation: loading 1.5s infinite;
            }
            
            @keyframes loading {
                0% { background-position: 200% 0; }
                100% { background-position: -200% 0; }
            }

            /* Mobile-first responsive utilities */
            @media (max-width: 768px) {
                .mobile-full-width {
                    width: 100vw;
                    margin-left: calc(-1 * (100vw - 100%) / 2);
                }
            }
            .fas, .fa-solid {
                font-weight: 900;
            }
        }
    </style>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        wise: {
                            'light-gray': '#FAFAFA',
                            'gray': '#6B7280',
                            'dark-gray': '#1F2937',
                            'border': '#E5E7EB',
                            'pink': '#FEE2E2',
                            'brown': '#991B1B',
                            'primary': '#3B82F6',    // Blue
                            'secondary': '#8B5CF6', // Purple
                            'success': '#10B981',    // Emerald
                            'warning': '#F59E0B',    // Yellow/Orange
                            'error': '#EF4444',      // Red
                            'info': '#06B6D4',       // Cyan
                        }
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.3s ease-in-out',
                        'slide-up': 'slideUp 0.3s ease-out',
                        'bounce-subtle': 'bounceSubtle 0.6s ease-in-out',
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': { opacity: '0' },
                            '100%': { opacity: '1' }
                        },
                        slideUp: {
                            '0%': { transform: 'translateY(10px)', opacity: '0' },
                            '100%': { transform: 'translateY(0)', opacity: '1' }
                        },
                        bounceSubtle: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-2px)' }
                        }
                    }
                }
            }
        }
    </script>
</head>
<body class="font-inter bg-wise-light-gray flex flex-col min-h-screen overflow-x-hidden">
    <!-- Header -->
    <header class="bg-white/90 backdrop-blur-glass border-b border-wise-border px-4 py-3 md:px-6 md:py-4 fixed top-0 left-0 right-0 z-30 shadow-sm transition-all-smooth">
        <div class="flex items-center justify-between w-full gap-6">
            <div class="flex justify-start items-center gap-4">
                <button 
                    id="sidebar-toggle-btn" 
                    class="text-wise-dark-gray focus:outline-none md:hidden p-2 -ml-2 rounded-lg hover:bg-gray-100 transition-all-smooth active-press"
                    aria-label="Toggle sidebar"
                >
                    <i class="fas fa-bars w-6 h-6 flex items-center justify-center transition-transform-smooth"></i>
                </button>
                
                <a href="dashboard.html" class="ml-4 text-wise-dark-gray text-2xl font-extrabold tracking-tight drop-shadow-sm">WISE</a>

                <div class="hidden md:flex items-center gap-2 ml-4">
                    <div class="relative">
                        <button 
                            id="config-dropdown-toggle"
                            class="flex items-center px-4 py-2 bg-white text-wise-dark-gray rounded-lg border border-wise-border shadow-sm hover:bg-gray-50 transition-all-smooth active-press whitespace-nowrap"
                            onclick="toggleConfigDropdown()"
                            aria-label="DCS menu"
                        >
                            <span id="dcs-text-display" class="font-medium text-sm">DCS</span>
                            <i class="fas fa-chevron-down ml-2 text-wise-gray text-xs"></i>
                        </button>
                        <div id="config-dropdown" class="absolute left-0 top-full mt-2 w-48 bg-white rounded-xl shadow-lg border border-wise-border hidden z-50 overflow-hidden animate-slide-up">
                            <div class="p-2">
                                <a href="#" class="flex items-center px-3 py-2 text-sm text-wise-dark-gray hover:bg-wise-light-gray rounded-lg transition-all-smooth" onclick="selectConfigOption('DCC')">DCC</a>
                                <a href="#" class="flex items-center px-3 py-2 text-sm text-wise-dark-gray hover:bg-wise-light-gray rounded-lg transition-all-smooth" onclick="selectConfigOption('DCE')">DCE</a>
                                <a href="#" class="flex items-center px-3 py-2 text-sm text-wise-dark-gray hover:bg-wise-light-gray rounded-lg transition-all-smooth" onclick="selectConfigOption('DCF')">DCF</a>
                                <a href="#" class="flex items-center px-3 py-2 text-sm text-wise-dark-gray hover:bg-wise-light-gray rounded-lg transition-all-smooth" onclick="selectConfigOption('DCJ')">DCJ</a>
                                <a href="#" class="flex items-center px-3 py-2 text-sm text-wise-dark-gray hover:bg-wise-light-gray rounded-lg transition-all-smooth" onclick="selectConfigOption('DCK')">DCK</a>
                                <a href="#" class="flex items-center px-3 py-2 text-sm text-wise-dark-gray hover:bg-wise-light-gray rounded-lg transition-all-smooth" onclick="selectConfigOption('DCL')">DCL</a>
                                <a href="#" class="flex items-center px-3 py-2 text-sm text-wise-dark-gray hover:bg-wise-light-gray rounded-lg transition-all-smooth" onclick="selectConfigOption('DCM')">DCM</a>
                                <a href="#" class="flex items-center px-3 py-2 text-sm text-wise-dark-gray hover:bg-wise-light-gray rounded-lg transition-all-smooth" onclick="selectConfigOption('DCP')">DCP</a>
                                <a href="#" class="flex items-center px-3 py-2 text-sm text-wise-dark-gray hover:bg-wise-light-gray rounded-lg transition-all-smooth" onclick="selectConfigOption('DCS')">DCS</a>
                                <a href="#" class="flex items-center px-3 py-2 text-sm text-wise-dark-gray hover:bg-wise-light-gray rounded-lg transition-all-smooth" onclick="selectConfigOption('DCT')">DCT</a>
                                <a href="#" class="flex items-center px-3 py-2 text-sm text-wise-dark-gray hover:bg-wise-light-gray rounded-lg transition-all-smooth" onclick="selectConfigOption('DCY')">DCY</a>
                                <a href="#" class="flex items-center px-3 py-2 text-sm text-wise-dark-gray hover:bg-wise-light-gray rounded-lg transition-all-smooth" onclick="selectConfigOption('GBG')">GBG</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="flex-1 flex justify-center">
                <div class="relative w-full max-w-lg">
                    <div class="flex items-center bg-white rounded-xl border border-wise-border overflow-hidden shadow-card w-full focus-within:ring-2 focus-within:ring-wise-primary/20 focus-within:border-wise-primary transition-all-smooth">
                        <div class="pl-4">
                            <i class="fas fa-search text-wise-gray"></i>
                        </div>
                        <input 
                            type="text" 
                            id="search-input"
                            placeholder="Search now..."
                            class="flex-1 px-3 py-2.5 focus:outline-none text-sm placeholder-wise-gray bg-transparent text-wise-dark-gray"
                            onfocus="showSearchHistory()"
                            oninput="updateSearchHistoryDisplay(this.value)"
                            aria-label="Search dashboard"
                        />
                        <button class="bg-wise-dark-gray text-white px-4 py-2.5 text-sm font-medium hover:bg-gray-700 transition-all-smooth active-press" aria-label="Search button" onclick="performSearch(document.getElementById('search-input').value, 'header')">
                            <span class="hidden sm:inline">Search</span>
                            <i class="fas fa-search sm:hidden"></i>
                        </button>
                    </div>
                    
                    <div id="search-history-dropdown" class="absolute top-full mt-2 w-full bg-white rounded-xl shadow-lg border border-wise-border hidden z-50 overflow-hidden animate-fade-in">
                        <div class="p-2" id="search-history-content"></div>
                    </div>
                </div>
            </div>

            <div class="flex justify-end items-center space-x-3 relative">
                <span class="text-wise-dark-gray font-medium text-sm hidden lg:block">
                    Welcome, <span id="username-display" class="font-semibold text-wise-primary">SuperAdmin</span>
                </span>
                <div
                    class="w-9 h-9 bg-wise-dark-gray rounded-full flex items-center justify-center shadow-card cursor-pointer hover-lift transition-all-smooth active-press"
                    onclick="toggleUserDropdown()"
                    aria-label="User menu"
                >
                    <i class="fas fa-user text-white"></i>
                </div>
                
                <div id="user-dropdown" class="absolute right-0 top-full mt-2 w-48 bg-white rounded-xl shadow-lg border border-wise-border hidden z-50 overflow-hidden animate-slide-up">
                    <div class="p-2">
                        <a href="#" class="flex items-center px-3 py-2 text-sm text-wise-dark-gray hover:bg-wise-light-gray rounded-lg transition-all-smooth" onclick="navigateToProfile()">
                            <i class="fas fa-user-circle mr-3 text-wise-gray"></i>
                            Profile
                        </a>
                        <a href="#" class="flex items-center px-3 py-2 text-sm text-wise-dark-gray hover:bg-wise-light-gray rounded-lg transition-all-smooth" onclick="handleLogout()">
                            <i class="fas fa-sign-out-alt mr-3 text-wise-gray"></i>
                            Log Out
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Mobile Sidebar Overlay -->
    <div id="sidebar-overlay" class="fixed inset-0 backdrop-blur-overlay z-25 hidden md:hidden transition-all-smooth" onclick="closeSidebar()" aria-label="Close sidebar"></div>

    <div class="flex flex-1 pt-20 md:pt-24">
        <!-- Sidebar -->
        <aside id="sidebar" class="w-64 bg-white/95 backdrop-blur-glass border-r border-wise-border overflow-y-auto fixed left-0 bottom-0 top-20 md:top-24 z-20 shadow-lg transform -translate-x-full md:translate-x-0 transition-transform-smooth">
            <div class="p-4 pt-24 md:pt-6">
                <div class="space-y-2">
                    <!-- Dashboard Button (Always visible) -->
                    <div id="sidebar-dashboard-main" class="sidebar-item p-3 rounded-xl cursor-pointer hover:bg-wise-light-gray transition-all-smooth flex items-center space-x-3 active-press hover-scale" onclick="selectCategory('dashboard')" tabindex="0" role="button" aria-label="Select Dashboard category">
                        <div class="w-6 h-6 flex items-center justify-center">
                            <i class="fas fa-tachometer-alt text-wise-primary"></i>
                        </div>
                        <span class="text-wise-dark-gray font-semibold text-sm">Dashboard</span>
                    </div>

                    <!-- Configuration Link in Sidebar -->
                    <div class="sidebar-section">
                        <a href="configuration.html" class="sidebar-item p-3 rounded-xl cursor-pointer hover:bg-wise-light-gray transition-all-smooth flex items-center space-x-3 active-press" tabindex="0" role="button" aria-label="Go to Configuration page">
                            <div class="w-6 h-6 flex items-center justify-center">
                                <i class="fas fa-cogs text-wise-gray"></i>
                            </div>
                            <span class="text-wise-dark-gray font-medium text-sm flex-1">Configuration</span>
                        </a>
                    </div>

                    <!-- Sidebar Items with improved structure -->
                    <!-- Yard Management -->
                    <div class="sidebar-section">
                        <div id="sidebar-yard-management" class="sidebar-item p-3 rounded-xl cursor-pointer hover:bg-wise-light-gray transition-all-smooth flex items-center space-x-3 active-press" onclick="toggleChildren('sidebar-yard-management')" tabindex="0" role="button" aria-expanded="false" aria-controls="yard-management-children" aria-label="Toggle Yard Management sub-menu">
                            <div class="w-6 h-6 flex items-center justify-center">
                                <i class="fas fa-warehouse text-wise-gray"></i>
                            </div>
                            <span class="text-wise-dark-gray font-medium text-sm flex-1">Yard Management</span>
                            <i id="yard-management-arrow" class="fas fa-chevron-down w-4 h-4 text-wise-gray transform transition-transform-smooth rotate-0"></i>
                        </div>
                        <div id="yard-management-children" class="ml-9 mt-2 space-y-1 hidden overflow-hidden transition-all-smooth" role="group" aria-labelledby="sidebar-yard-management">
                            <div class="sidebar-child p-2.5 rounded-lg cursor-pointer hover:bg-gray-50 transition-all-smooth" onclick="selectCategory('yard-vehicles')" onmouseenter="showPreview('yard-vehicles', event)" tabindex="0" role="button" aria-label="Select Vehicles">
                                <span class="text-wise-gray text-sm hover:text-wise-dark-gray transition-colors">Vehicles</span>
                            </div>
                            <div class="sidebar-child p-2.5 rounded-lg cursor-pointer hover:bg-gray-50 transition-all-smooth" onclick="selectCategory('yard-equipment')" onmouseenter="showPreview('yard-equipment', event)" tabindex="0" role="button" aria-label="Select Equipment">
                                <span class="text-wise-gray text-sm hover:text-wise-dark-gray transition-colors">Equipment</span>
                            </div>
                            <div class="sidebar-child p-2.5 rounded-lg cursor-pointer hover:bg-gray-50 transition-all-smooth" onclick="selectCategory('yard-personnel')" onmouseenter="showPreview('yard-personnel', event)" tabindex="0" role="button" aria-label="Select Personnel">
                                <span class="text-wise-gray text-sm hover:text-wise-dark-gray transition-colors">Personnel</span>
                            </div>
                        </div>
                    </div>

                    <!-- Receiving -->
                    <div class="sidebar-section">
                        <div id="sidebar-receiving" class="sidebar-item p-3 rounded-xl cursor-pointer hover:bg-wise-light-gray transition-all-smooth flex items-center space-x-3 active-press" onclick="toggleChildren('sidebar-receiving')" tabindex="0" role="button" aria-expanded="false" aria-controls="receiving-children" aria-label="Toggle Receiving sub-menu">
                            <div class="w-6 h-6 flex items-center justify-center">
                                <i class="fas fa-truck-loading text-wise-gray"></i>
                            </div>
                            <span class="text-wise-dark-gray font-medium text-sm flex-1">Receiving</span>
                            <i id="receiving-arrow" class="fas fa-chevron-down w-4 h-4 text-wise-gray transform transition-transform-smooth rotate-0"></i>
                        </div>
                        <div id="receiving-children" class="ml-9 mt-2 space-y-1 hidden overflow-hidden transition-all-smooth" role="group" aria-labelledby="sidebar-receiving">
                            <div class="sidebar-child p-2.5 rounded-lg cursor-pointer hover:bg-gray-50 transition-all-smooth" onclick="selectCategory('receiving-open-box-balance-viewer')"><span class="text-wise-gray text-sm hover:text-wise-dark-gray transition-colors">Open/Box Balance Viewer</span></div>
                            <div class="sidebar-child p-2.5 rounded-lg cursor-pointer hover:bg-gray-50 transition-all-smooth" onclick="selectCategory('receiving-po-quick-find')"><span class="text-wise-gray text-sm hover:text-wise-dark-gray transition-colors">Purchase order quick find</span></div>
                            <div class="sidebar-child p-2.5 rounded-lg cursor-pointer hover:bg-gray-50 transition-all-smooth" onclick="selectCategory('receiving-receipt-closet-supplier')"><span class="text-wise-gray text-sm hover:text-wise-dark-gray transition-colors">Receipt Closet By Supplier</span></div>
                            <div class="sidebar-child p-2.5 rounded-lg cursor-pointer hover:bg-gray-50 transition-all-smooth" onclick="selectCategory('receiving-receipt-container-viewer')"><span class="text-wise-gray text-sm hover:text-wise-dark-gray transition-colors">Receipt Container Viewer</span></div>
                            <div class="sidebar-child p-2.5 rounded-lg cursor-pointer hover:bg-gray-50 transition-all-smooth" onclick="selectCategory('receiving-receipt-explorer')"><span class="text-wise-gray text-sm hover:text-wise-dark-gray transition-colors">Receipt Explorer</span></div>
                            <div class="sidebar-child p-2.5 rounded-lg cursor-pointer hover:bg-gray-50 transition-all-smooth" onclick="selectCategory('receiving-receipt-monitoring-close')"><span class="text-wise-gray text-sm hover:text-wise-dark-gray transition-colors">Receipt Monitoring/Close Viewer</span></div>
                            <div class="sidebar-child p-2.5 rounded-lg cursor-pointer hover:bg-gray-50 transition-all-smooth" onclick="selectCategory('receiving-receipt-no-close')"><span class="text-wise-gray text-sm hover:text-wise-dark-gray transition-colors">Receipt No/Close Viewer</span></div>
                            <div class="sidebar-child p-2.5 rounded-lg cursor-pointer hover:bg-gray-50 transition-all-smooth" onclick="selectCategory('receiving-receipt-open-closed')"><span class="text-wise-gray text-sm hover:text-wise-dark-gray transition-colors">Receipt Open And Closed Viewer</span></div>
                            <div class="sidebar-child p-2.5 rounded-lg cursor-pointer hover:bg-gray-50 transition-all-smooth" onclick="selectCategory('receiving-receipt-shipment-closed')"><span class="text-wise-gray text-sm hover:text-wise-dark-gray transition-colors">Receipt Shipment Closed Viewer</span></div>
                            <div class="sidebar-child p-2.5 rounded-lg cursor-pointer hover:bg-gray-50 transition-all-smooth" onclick="selectCategory('receiving-performance-viewer')"><span class="text-wise-gray text-sm hover:text-wise-dark-gray transition-colors">Receiving Performance Viewer</span></div>
                            <div class="sidebar-child p-2.5 rounded-lg cursor-pointer hover:bg-gray-50 transition-all-smooth" onclick="selectCategory('receiving-workbench')"><span class="text-wise-gray text-sm hover:text-wise-dark-gray transition-colors">Receiving workbench</span></div>
                            <div class="sidebar-child p-2.5 rounded-lg cursor-pointer hover:bg-gray-50 transition-all-smooth" onclick="selectCategory('receiving-shipment-closed-viewer')"><span class="text-wise-gray text-sm hover:text-wise-dark-gray transition-colors">Shipment Closed Viewer</span></div>
                            <div class="sidebar-child p-2.5 rounded-lg cursor-pointer hover:bg-gray-50 transition-all-smooth" onclick="selectCategory('receiving-virtual-viewer')"><span class="text-wise-gray text-sm hover:text-wise-dark-gray transition-colors">Virtual Receiving Viewer</span></div>
                        </div>
                    </div>

                    <!-- Order Planning -->
                    <div class="sidebar-section">
                        <div id="sidebar-order" class="sidebar-item p-3 rounded-xl cursor-pointer hover:bg-wise-light-gray transition-all-smooth flex items-center space-x-3 active-press" onclick="toggleChildren('sidebar-order')" tabindex="0" role="button" aria-expanded="false" aria-controls="order-children" aria-label="Toggle Order Planning sub-menu">
                            <div class="w-6 h-6 flex items-center justify-center">
                                <i class="fas fa-clipboard-list text-wise-gray"></i>
                            </div>
                            <span class="text-wise-dark-gray font-medium text-sm flex-1">Order Planning</span>
                            <i id="order-arrow" class="fas fa-chevron-down w-4 h-4 text-wise-gray transform transition-transform-smooth rotate-0"></i>
                        </div>
                        <div id="order-children" class="ml-9 mt-2 space-y-1 hidden overflow-hidden transition-all-smooth" role="group" aria-labelledby="sidebar-order">
                            <div class="sidebar-child p-2.5 rounded-lg cursor-pointer hover:bg-gray-